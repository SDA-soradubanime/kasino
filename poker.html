<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ–∫–µ—Ä</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            min-height: 100vh;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            padding: 20px;
            box-sizing: border-box;
        }

        .container {
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            text-align: center;
            max-width: 800px;
            width: 100%;
            position: relative;
            margin-top: 20px;
        }

        .back-button {
            position: absolute;
            top: 15px;
            left: 15px;
            background-color: rgba(248, 211, 71, 0.2);
            color: #f8d347;
            border: 1px solid #f8d347;
            padding: 8px 15px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .back-button:hover {
            background-color: rgba(248, 211, 71, 0.4);
            transform: translateX(-3px);
        }

        .back-button::before {
            content: "‚Üê";
        }

        h1 {
            color: #f8d347;
            text-shadow: 0 0 10px rgba(248, 211, 71, 0.5);
            margin-top: 10px;
            margin-bottom: 5px;
        }

        .subtitle {
            color: #ccc;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .game-area {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin: 20px 0;
            width: 100%;
        }

        .hand {
            background-color: rgba(51, 51, 51, 0.7);
            border-radius: 10px;
            padding: 15px;
            min-height: 120px;
            position: relative;
        }

        .hand-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #f8d347;
        }

        .cards {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            min-height: 80px;
        }

        .card {
            width: 60px;
            height: 90px;
            background-color: white;
            border-radius: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            color: black;
            position: relative;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .card.red {
            color: red;
        }

        .card-back {
            background: linear-gradient(135deg, #d10000, #8b0000);
            color: white;
            font-size: 14px;
        }

        .community-cards {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .game-panel {
            background-color: rgba(51, 51, 51, 0.7);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .balance {
            font-size: 22px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .balance-amount {
            font-weight: bold;
            color: #f8d347;
        }

        .pot {
            font-size: 20px;
            margin: 15px 0;
            color: #f8d347;
        }

        .settings {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .setting-group {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .setting-group label {
            margin-bottom: 5px;
            font-size: 14px;
            color: #ddd;
        }

        .setting-group input {
            padding: 8px 12px;
            border-radius: 5px;
            border: none;
            background-color: #444;
            color: white;
            text-align: center;
            width: 80px;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .game-button {
            background-color: #f8d347;
            color: #333;
            border: none;
            padding: 12px 20px;
            font-size: 16px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 4px 0 #d4b53c;
            min-width: 100px;
        }

        .game-button:hover {
            background-color: #ffea00;
            transform: translateY(-2px);
            box-shadow: 0 6px 0 #d4b53c;
        }

        .game-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #d4b53c;
        }

        .game-button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 4px 0 #aaaaaa;
        }

        .check-button {
            background-color: #4CAF50;
            box-shadow: 0 4px 0 #3e8e41;
        }

        .check-button:hover {
            background-color: #66BB6A;
            box-shadow: 0 6px 0 #3e8e41;
        }

        .fold-button {
            background-color: #f44336;
            box-shadow: 0 4px 0 #d32f2f;
        }

        .fold-button:hover {
            background-color: #ef5350;
            box-shadow: 0 6px 0 #d32f2f;
        }

        .call-button {
            background-color: #2196F3;
            box-shadow: 0 4px 0 #1565C0;
        }

        .call-button:hover {
            background-color: #42A5F5;
            box-shadow: 0 6px 0 #1565C0;
        }

        .raise-button {
            background-color: #FF9800;
            box-shadow: 0 4px 0 #F57C00;
        }

        .raise-button:hover {
            background-color: #FFA726;
            box-shadow: 0 6px 0 #F57C00;
        }

        .message {
            color: #f8d347;
            font-size: 18px;
            font-weight: bold;
            height: 30px;
            margin: 10px 0;
            text-shadow: 0 0 5px rgba(248, 211, 71, 0.5);
        }

        .player-status {
            font-size: 16px;
            margin-top: 5px;
            color: #ddd;
        }

        .info {
            margin-top: 20px;
            font-size: 12px;
            color: #999;
            line-height: 1.4;
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç—ã */
        .win-glow {
            animation: winGlow 1s infinite alternate;
        }

        @keyframes winGlow {
            from { box-shadow: 0 0 10px gold; }
            to { box-shadow: 0 0 30px gold; }
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px 15px;
            }

            .card {
                width: 50px;
                height: 75px;
                font-size: 20px;
            }

            .controls {
                gap: 10px;
            }

            .game-button {
                padding: 10px 15px;
                font-size: 14px;
                min-width: 80px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <button class="back-button" onclick="window.location.href='index.html'">–ú–µ–Ω—é</button>

        <h1>üí∞ –¢–µ—Ö–∞—Å—Å–∫–∏–π –•–æ–ª–¥–µ–º</h1>
        <p class="subtitle">–°—ã–≥—Ä–∞–π—Ç–µ –≤ –ø–æ–∫–µ—Ä –ø—Ä–æ—Ç–∏–≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞!</p>

        <div class="game-panel">
            <div class="balance">
                –ë–∞–ª–∞–Ω—Å: <span id="balance" class="balance-amount">1000</span> –∫—Ä–µ–¥–∏—Ç–æ–≤
            </div>

            <div class="pot" id="pot">
                –ë–∞–Ω–∫: 0 –∫—Ä–µ–¥–∏—Ç–æ–≤
            </div>

            <div class="settings">
                <div class="setting-group">
                    <label for="betAmount">–°—Ç–∞–≤–∫–∞:</label>
                    <input type="number" id="betAmount" min="10" max="1000" value="50" step="10">
                </div>
            </div>

            <div class="message" id="message"></div>
        </div>

        <div class="game-area">
            <div class="hand">
                <div class="hand-title">–î–∏–ª–µ—Ä <span id="dealer-status" class="player-status"></span></div>
                <div class="cards" id="dealer-cards"></div>
            </div>

            <div class="community-cards" id="community-cards"></div>

            <div class="hand">
                <div class="hand-title">–ò–≥—Ä–æ–∫ <span id="player-status" class="player-status"></span></div>
                <div class="cards" id="player-cards"></div>
            </div>
        </div>

        <div class="controls">
            <button id="dealButton" class="game-button">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
            <button id="checkButton" class="game-button check-button" disabled>–ß–µ–∫</button>
            <button id="callButton" class="game-button call-button" disabled>–ö–æ–ª–ª</button>
            <button id="raiseButton" class="game-button raise-button" disabled>–ü–æ–¥–Ω—è—Ç—å</button>
            <button id="foldButton" class="game-button fold-button" disabled>–§–æ–ª–¥</button>
        </div>

        <div class="info">
            <p>–ü—Ä–∞–≤–∏–ª–∞: –¢–µ—Ö–∞—Å—Å–∫–∏–π –•–æ–ª–¥–µ–º, 5 –æ–±—â–∏—Ö –∫–∞—Ä—Ç. –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏: –°—Ç–∞—Ä—à–∞—è –∫–∞—Ä—Ç–∞, –ü–∞—Ä–∞, –î–≤–µ –ø–∞—Ä—ã, –°–µ—Ç, –°—Ç—Ä–∏—Ç, –§–ª–µ—à, –§—É–ª–ª-—Ö–∞—É—Å, –ö–∞—Ä–µ, –°—Ç—Ä–∏—Ç-—Ñ–ª–µ—à, –†–æ—è–ª-—Ñ–ª–µ—à.</p>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
        const suits = ['‚ô•', '‚ô¶', '‚ô†', '‚ô£'];
        const values = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
        let deck = [];
        let playerHand = [];
        let dealerHand = [];
        let communityCards = [];
        let currentBet = 50;
        let playerBalance = localStorage.getItem('casinoBalance') ? parseInt(localStorage.getItem('casinoBalance')) : 1000;
        let pot = 0;
        let gameStage = 0; // 0 - –Ω–∞—á–∞–ª–æ, 1 - –ø—Ä–µ—Ñ–ª–æ–ø, 2 - —Ñ–ª–æ–ø, 3 - —Ç–µ—Ä–Ω, 4 - —Ä–∏–≤–µ—Ä, 5 - —à–æ—É–¥–∞—É–Ω
        let dealerBet = 0;
        let playerBetInStage = 0;
        let dealerBetInStage = 0;

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const balanceDisplay = document.getElementById('balance');
        const potDisplay = document.getElementById('pot');
        const betAmountInput = document.getElementById('betAmount');
        const messageDisplay = document.getElementById('message');
        const dealerCardsDiv = document.getElementById('dealer-cards');
        const playerCardsDiv = document.getElementById('player-cards');
        const communityCardsDiv = document.getElementById('community-cards');
        const dealerStatusSpan = document.getElementById('dealer-status');
        const playerStatusSpan = document.getElementById('player-status');
        const dealButton = document.getElementById('dealButton');
        const checkButton = document.getElementById('checkButton');
        const callButton = document.getElementById('callButton');
        const raiseButton = document.getElementById('raiseButton');
        const foldButton = document.getElementById('foldButton');

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
        function updateBalance() {
            balanceDisplay.textContent = playerBalance;
            localStorage.setItem('casinoBalance', playerBalance.toString());
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–æ–¥—ã
        function createDeck() {
            deck = [];
            for (let suit of suits) {
                for (let value of values) {
                    deck.push({ suit, value });
                }
            }
            shuffleDeck();
        }

        // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏–µ –∫–æ–ª–æ–¥—ã
        function shuffleDeck() {
            for (let i = deck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [deck[i], deck[j]] = [deck[j], deck[i]];
            }
        }

        // –†–∞–∑–¥–∞—á–∞ –∫–∞—Ä—Ç—ã
        function dealCard(hand, isDealer = false, hidden = false) {
            if (deck.length === 0) createDeck();
            const card = deck.pop();
            hand.push(card);
            renderCards(isDealer, hidden);
            return card;
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç
        function renderCards(isDealer, hideCards = false) {
            const hand = isDealer ? dealerHand : playerHand;
            const cardsDiv = isDealer ? dealerCardsDiv : playerCardsDiv;

            cardsDiv.innerHTML = '';

            if (hideCards && isDealer) {
                // –°–∫—Ä—ã—Ç—ã–µ –∫–∞—Ä—Ç—ã –¥–∏–ª–µ—Ä–∞
                for (let i = 0; i < hand.length; i++) {
                    const cardDiv = document.createElement('div');
                    cardDiv.className = 'card card-back';
                    cardDiv.textContent = '?';
                    cardsDiv.appendChild(cardDiv);
                }
            } else {
                // –û—Ç–∫—Ä—ã—Ç—ã–µ –∫–∞—Ä—Ç—ã
                for (let card of hand) {
                    const cardDiv = document.createElement('div');
                    cardDiv.className = 'card';
                    if (card.suit === '‚ô•' || card.suit === '‚ô¶') {
                        cardDiv.classList.add('red');
                    }
                    cardDiv.textContent = card.value + card.suit;
                    cardsDiv.appendChild(cardDiv);
                }
            }
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±—â–∏—Ö –∫–∞—Ä—Ç
        function renderCommunityCards() {
            communityCardsDiv.innerHTML = '';

            for (let card of communityCards) {
                const cardDiv = document.createElement('div');
                cardDiv.className = 'card';
                if (card.suit === '‚ô•' || card.suit === '‚ô¶') {
                    cardDiv.classList.add('red');
                }
                cardDiv.textContent = card.value + card.suit;
                communityCardsDiv.appendChild(cardDiv);
            }
        }

        // –ù–∞—á–∞–ª–æ –∏–≥—Ä—ã
        function startGame() {
            if (gameStage !== 0) return;

            currentBet = parseInt(betAmountInput.value);
            if (isNaN(currentBet)) {
                messageDisplay.textContent = '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—Ç–∞–≤–∫—É';
                return;
            }

            if (currentBet < 10) {
                messageDisplay.textContent = '–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞ - 10';
                betAmountInput.value = 10;
                currentBet = 10;
                return;
            }

            if (currentBet > playerBalance) {
                messageDisplay.textContent = '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤';
                return;
            }

            // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–≥—Ä—ã
            createDeck();
            playerHand = [];
            dealerHand = [];
            communityCards = [];
            pot = 0;
            gameStage = 1;
            playerBalance -= currentBet;
            pot += currentBet;
            dealerBet = Math.floor(currentBet * (0.5 + Math.random() * 0.5));
            pot += dealerBet;
            updateBalance();
            updatePot();

            // –†–∞–∑–¥–∞—á–∞ –∫–∞—Ä—Ç
            dealCard(playerHand);
            dealCard(dealerHand, true, true);
            dealCard(playerHand);
            dealCard(dealerHand, true, true);

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            dealButton.disabled = true;
            checkButton.disabled = false;
            callButton.disabled = false;
            raiseButton.disabled = false;
            foldButton.disabled = false;

            playerBetInStage = currentBet;
            dealerBetInStage = dealerBet;

            messageDisplay.textContent = `–í–∞—à–∞ —Å—Ç–∞–≤–∫–∞: ${currentBet}, —Å—Ç–∞–≤–∫–∞ –¥–∏–ª–µ—Ä–∞: ${dealerBet}`;
            playerStatusSpan.textContent = `–°—Ç–∞–≤–∫–∞: ${currentBet}`;
            dealerStatusSpan.textContent = `–°—Ç–∞–≤–∫–∞: ${dealerBet}`;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–Ω–∫–∞
        function updatePot() {
            potDisplay.textContent = `–ë–∞–Ω–∫: ${pot} –∫—Ä–µ–¥–∏—Ç–æ–≤`;
        }

        // –î–µ–π—Å—Ç–≤–∏–µ: –ß–µ–∫
        function check() {
            if (gameStage === 0 || dealerBetInStage > playerBetInStage) {
                messageDisplay.textContent = '–ù–µ–ª—å–∑—è —Å–¥–µ–ª–∞—Ç—å —á–µ–∫, –Ω—É–∂–Ω–æ —É—Ä–∞–≤–Ω—è—Ç—å —Å—Ç–∞–≤–∫—É';
                return;
            }

            messageDisplay.textContent = '–í—ã —Å–¥–µ–ª–∞–ª–∏ —á–µ–∫';
            playerStatusSpan.textContent = '–ß–µ–∫';
            advanceGame();
        }

        // –î–µ–π—Å—Ç–≤–∏–µ: –ö–æ–ª–ª
        function call() {
            const callAmount = dealerBetInStage - playerBetInStage;
            if (callAmount <= 0) {
                messageDisplay.textContent = '–ù–µ–ª—å–∑—è —Å–¥–µ–ª–∞—Ç—å –∫–æ–ª–ª, —Å—Ç–∞–≤–∫–∏ —Ä–∞–≤–Ω—ã';
                return;
            }

            if (callAmount > playerBalance) {
                messageDisplay.textContent = '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –∫–æ–ª–ª–∞';
                return;
            }

            playerBalance -= callAmount;
            pot += callAmount;
            playerBetInStage = dealerBetInStage;
            updateBalance();
            updatePot();

            messageDisplay.textContent = `–í—ã —Å–¥–µ–ª–∞–ª–∏ –∫–æ–ª–ª ${callAmount}`;
            playerStatusSpan.textContent = `–ö–æ–ª–ª: ${callAmount}`;
            advanceGame();
        }

        // –î–µ–π—Å—Ç–≤–∏–µ: –ü–æ–¥–Ω—è—Ç—å —Å—Ç–∞–≤–∫—É
        function raise() {
            const raiseAmount = parseInt(prompt('–ù–∞ —Å–∫–æ–ª—å–∫–æ –ø–æ–¥–Ω—è—Ç—å —Å—Ç–∞–≤–∫—É? –ú–∏–Ω–∏–º—É–º ' + (dealerBetInStage - playerBetInStage + 10), dealerBetInStage - playerBetInStage + 10));

            if (isNaN(raiseAmount) || raiseAmount < (dealerBetInStage - playerBetInStage + 10)) {
                messageDisplay.textContent = '–ù–µ–≤–µ—Ä–Ω–∞—è —Å—É–º–º–∞ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è';
                return;
            }

            if (playerBetInStage + raiseAmount > playerBalance) {
                messageDisplay.textContent = '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è';
                return;
            }

            playerBalance -= raiseAmount;
            pot += raiseAmount;
            playerBetInStage += raiseAmount;
            updateBalance();
            updatePot();

            // –û—Ç–≤–µ—Ç –¥–∏–ª–µ—Ä–∞
            const dealerCall = Math.random() > 0.3; // 70% chance to call
            if (dealerCall) {
                const dealerRaise = Math.floor(raiseAmount * (0.5 + Math.random() * 0.5));
                dealerBalance -= dealerRaise;
                pot += dealerRaise;
                dealerBetInStage += dealerRaise;

                messageDisplay.textContent = `–í—ã –ø–æ–¥–Ω—è–ª–∏ –Ω–∞ ${raiseAmount}, –¥–∏–ª–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç +${dealerRaise}`;
                dealerStatusSpan.textContent = `–ü–æ–¥–Ω—è–ª: ${dealerRaise}`;
            } else {
                messageDisplay.textContent = `–í—ã –ø–æ–¥–Ω—è–ª–∏ –Ω–∞ ${raiseAmount}, –¥–∏–ª–µ—Ä –ø–∞—Å—É–µ—Ç`;
                endGame('–î–∏–ª–µ—Ä –ø–∞—Å—É–µ—Ç! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏!', pot);
                return;
            }

            playerStatusSpan.textContent = `–ü–æ–¥–Ω—è–ª: ${raiseAmount}`;
        }

        // –î–µ–π—Å—Ç–≤–∏–µ: –§–æ–ª–¥
        function fold() {
            messageDisplay.textContent = '–í—ã —Å–±—Ä–æ—Å–∏–ª–∏ –∫–∞—Ä—Ç—ã';
            endGame('–í—ã —Å–±—Ä–æ—Å–∏–ª–∏ –∫–∞—Ä—Ç—ã. –î–∏–ª–µ—Ä –≤—ã–∏–≥—Ä–∞–ª!');
        }

        // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç–∞–¥–∏–∏ –∏–≥—Ä—ã
        function advanceGame() {
            gameStage++;
            playerBetInStage = 0;
            dealerBetInStage = 0;

            switch(gameStage) {
                case 2: // –§–ª–æ–ø
                    dealCommunityCards(3);
                    messageDisplay.textContent = '–§–ª–æ–ø: 3 –æ–±—â–∏–µ –∫–∞—Ä—Ç—ã';
                    break;
                case 3: // –¢–µ—Ä–Ω
                    dealCommunityCards(1);
                    messageDisplay.textContent = '–¢–µ—Ä–Ω: 4-—è –æ–±—â–∞—è –∫–∞—Ä—Ç–∞';
                    break;
                case 4: // –†–∏–≤–µ—Ä
                    dealCommunityCards(1);
                    messageDisplay.textContent = '–†–∏–≤–µ—Ä: 5-—è –æ–±—â–∞—è –∫–∞—Ä—Ç–∞';
                    break;
                case 5: // –®–æ—É–¥–∞—É–Ω
                    showDown();
                    return;
            }

            // –•–æ–¥ –¥–∏–ª–µ—Ä–∞
            dealerAction();
        }

        // –†–∞–∑–¥–∞—á–∞ –æ–±—â–∏—Ö –∫–∞—Ä—Ç
        function dealCommunityCards(count) {
            for (let i = 0; i < count; i++) {
                dealCard(communityCards);
            }
            renderCommunityCards();
        }

        // –î–µ–π—Å—Ç–≤–∏—è –¥–∏–ª–µ—Ä–∞
        function dealerAction() {
            setTimeout(() => {
                const action = Math.random();

                if (action < 0.6) { // 60% chance to check/call
                    if (playerBetInStage > dealerBetInStage) {
                        const callAmount = playerBetInStage - dealerBetInStage;
                        pot += callAmount;
                        dealerBetInStage = playerBetInStage;
                        updatePot();

                        messageDisplay.textContent += ` | –î–∏–ª–µ—Ä –¥–µ–ª–∞–µ—Ç –∫–æ–ª–ª ${callAmount}`;
                        dealerStatusSpan.textContent = `–ö–æ–ª–ª: ${callAmount}`;
                    } else {
                        messageDisplay.textContent += ' | –î–∏–ª–µ—Ä –¥–µ–ª–∞–µ—Ç —á–µ–∫';
                        dealerStatusSpan.textContent = '–ß–µ–∫';
                    }
                } else if (action < 0.9) { // 30% chance to raise
                    const raiseAmount = Math.floor(currentBet * (0.3 + Math.random() * 0.3));
                    pot += raiseAmount;
                    dealerBetInStage += raiseAmount;
                    updatePot();

                    messageDisplay.textContent += ` | –î–∏–ª–µ—Ä –ø–æ–¥–Ω–∏–º–∞–µ—Ç –Ω–∞ ${raiseAmount}`;
                    dealerStatusSpan.textContent = `–ü–æ–¥–Ω—è–ª: ${raiseAmount}`;
                } else { // 10% chance to fold
                    messageDisplay.textContent += ' | –î–∏–ª–µ—Ä –ø–∞—Å—É–µ—Ç';
                    endGame('–î–∏–ª–µ—Ä –ø–∞—Å—É–µ—Ç! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏!', pot);
                    return;
                }

                // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –¥–ª—è –∏–≥—Ä–æ–∫–∞
                checkButton.disabled = playerBetInStage !== dealerBetInStage;
                callButton.disabled = playerBetInStage >= dealerBetInStage;
                raiseButton.disabled = false;
            }, 1000);
        }

        // –®–æ—É–¥–∞—É–Ω - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–∞—Ä—Ç
        function showDown() {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç—ã –¥–∏–ª–µ—Ä–∞
            dealerCardsDiv.innerHTML = '';
            for (let card of dealerHand) {
                const cardDiv = document.createElement('div');
                cardDiv.className = 'card';
                if (card.suit === '‚ô•' || card.suit === '‚ô¶') {
                    cardDiv.classList.add('red');
                }
                cardDiv.textContent = card.value + card.suit;
                dealerCardsDiv.appendChild(cardDiv);
            }

            // –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è (–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∫–æ–º–±–∏–Ω–∞—Ü–∏–π)
            const playerScore = evaluateHand([...playerHand, ...communityCards]);
            const dealerScore = evaluateHand([...dealerHand, ...communityCards]);

            if (playerScore > dealerScore) {
                endGame(`–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏! –í–∞—à–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è: ${getHandName(playerScore)}`, pot);
            } else if (playerScore < dealerScore) {
                endGame(`–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏. –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –¥–∏–ª–µ—Ä–∞: ${getHandName(dealerScore)}`);
            } else {
                endGame(`–ù–∏—á—å—è! –í–∞—à–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è: ${getHandName(playerScore)}`, pot / 2);
            }
        }

        // –û—Ü–µ–Ω–∫–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è)
        function evaluateHand(cards) {
            // –ü—Ä–æ—Å—Ç–∞—è –æ—Ü–µ–Ω–∫–∞ –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
            let score = 0;
            for (let card of cards) {
                if (card.value === 'A') score += 14;
                else if (card.value === 'K') score += 13;
                else if (card.value === 'Q') score += 12;
                else if (card.value === 'J') score += 11;
                else score += parseInt(card.value);
            }
            return score;
        }

        // –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ (—É–ø—Ä–æ—â–µ–Ω–Ω–æ–µ)
        function getHandName(score) {
            if (score > 100) return "–†–æ—è–ª-—Ñ–ª–µ—à";
            if (score > 90) return "–°—Ç—Ä–∏—Ç-—Ñ–ª–µ—à";
            if (score > 80) return "–ö–∞—Ä–µ";
            if (score > 70) return "–§—É–ª–ª-—Ö–∞—É—Å";
            if (score > 60) return "–§–ª–µ—à";
            if (score > 50) return "–°—Ç—Ä–∏—Ç";
            if (score > 40) return "–°–µ—Ç";
            if (score > 30) return "–î–≤–µ –ø–∞—Ä—ã";
            if (score > 20) return "–ü–∞—Ä–∞";
            return "–°—Ç–∞—Ä—à–∞—è –∫–∞—Ä—Ç–∞";
        }

        // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–≥—Ä—ã
        function endGame(message, winnings = 0) {
            gameStage = 0;

            if (winnings > 0) {
                playerBalance += winnings;
                updateBalance();
            }

            messageDisplay.textContent = message;

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            dealButton.disabled = false;
            checkButton.disabled = true;
            callButton.disabled = true;
            raiseButton.disabled = true;
            foldButton.disabled = true;

            playerStatusSpan.textContent = '';
            dealerStatusSpan.textContent = '';
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        dealButton.addEventListener('click', startGame);
        checkButton.addEventListener('click', check);
        callButton.addEventListener('click', call);
        raiseButton.addEventListener('click', raise);
        foldButton.addEventListener('click', fold);

        betAmountInput.addEventListener('change', function() {
            currentBet = parseInt(this.value);
            if (isNaN(currentBet) || currentBet < 10) {
                this.value = 10;
                currentBet = 10;
            } else if (currentBet > playerBalance) {
                this.value = Math.min(playerBalance, 1000);
                currentBet = this.value;
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        updateBalance();
    </script>
</body>
</html>
